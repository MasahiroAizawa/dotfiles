#! /usr/bin/env bash

# define aliases for git
if type git >/dev/null 2>&1; then
  alias gs='git status -bs'
  alias ga='git add'
  alias gl='git log --decorate'
  alias gd='git diff'
  alias gb='git branch'
fi

# define aliases for ls
alias la='ls -a'
alias ll='ls -la'


git_branch() {
  __git_ps1 '(git:%s)'
}

# use bash-completion
# if [ -f /opt/local/share/git-core/git-prompt.sh ]; then
#   . /opt/local/share/git-core/git-prompt.sh
#   export PS1='\[\033[01;32m\]\u@\h\[\033[01;33m\] \w$(git_branch) \n\[\033[01;34m\]\$\[\033[00m\] '
# elif [ -f $(brew --prefix)/etc/bash_completion ]; then
#   . $(brew --prefix)/etc/bash_completion
#   # export PS1='\[\033[01;32m\]\u@\h\[\033[01;33m\] \w$(git_branch) \n\[\033[01;34m\]\$\[\033[00m\] '
# else
  if [ -f "$(brew --prefix bash-git-prompt)/share/gitprompt.sh" ]; then
    GIT_PROMPT_THEME=Default
    source "$(brew --prefix bash-git-prompt)/share/gitprompt.sh"
  else
    export PS1='\[\033[01;32m\]\u@\h\[\033[01;33m\] \w \n\[\033[01;34m\]\$\[\033[00m\] '
  fi
# fi

# define aliases for rails development
alias bu='bundle update'
alias bi='bundle install'
alias be='bundle exec'

function current_branch() {
  git branch | grep "\*" | cut -d' ' -f2
}
alias cb=current_branch
